apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: paperless-ingress
  namespace: paperless
spec:
  entryPoints:
    - websecure-local
  tls: {}
  routes:
  - match: Host(`documents.steffenillium.de`)
    kind: Rule
    services:
    - name: paperless-service
      port: http
---
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: paperless-ingress-front
  namespace: paperless
spec:
  entryPoints:
    - websecure-front
  tls: {}
  routes:
  - match: Host(`documents.steffenillium.de`)
    kind: Rule
    # middlewares:
    #   - name: authentik-middleware
    #     namespace: authentik
    services:
    - name: paperless-service
      port: http